{{- if or .Values.runner.alerting.password .Values.postgresql.connectionDSN -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "nanomon.fullname" . }}
type: Opaque
data: 
  {{- if .Values.runner.alerting.password }}
  smtpPassword: {{ .Values.runner.alerting.password | b64enc | quote }}
  {{- end }}
  {{- if .Values.postgresql.connectionDSN }}
  connectionDSN: {{ .Values.postgresql.connectionDSN | b64enc | quote }}
  {{- end }}
{{- end -}}